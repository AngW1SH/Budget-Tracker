generator client {
    provider = "prisma-client-js"
    output   = "./client"
}

datasource db {
    provider = "postgresql"
    url      = env("APP_DATABASE_URL")
}

// npx prisma generate --schema prisma/app-db/schema.prisma
// npx prisma migrate dev --schema prisma/app-db/schema.prisma

model Category {
    id           String          @id @default(uuid())
    name         String
    userId       String
    creationtime DateTime        @default(now())
    instances    CategoryInDay[]
}

model CategoryInDay {
    id          String    @id @default(uuid())
    category    Category? @relation(fields: [categoryId], references: [id])
    categoryId  String?
    subcategory String?
    description String    @default("")
    day         Day       @relation(fields: [dayId], references: [id])
    dayId       String
    userId      String
    value       Int
}

model Day {
    id         String          @id @default(uuid())
    categories CategoryInDay[]
    userId     String
    date       DateTime
    active     Boolean         @default(false)
}
